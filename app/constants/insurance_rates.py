# 任意險費率表（PRD v2.0 模擬費率 — 第 7.2 節）
INSURANCE_RATES = {
    "A": {"name": "第三人責任", "options": {1: 4455, 2: 5023, 3: 5000, 4: 5568}},
    "B": {"name": "超額責任", "options": {1: 625, 2: 782, 3: 852, 4: 918}},
    "C": {"name": "乘客責任", "options": {1: 704, 2: 908, 3: 1076, 4: 1383}},
    "D": {"name": "駕駛傷亡", "options": {1: 120, 2: 238, 3: 354, 4: 592}},
    "E": {"name": "車體險", "options": {1: 18000, 2: 12000, 3: 6500, 4: 4000, 5: 0}},
    "F": {"name": "車體免追償", "options": {1: 0, 2: 0, 3: 1200}},
    "G": {"name": "道路救援", "options": {1: 0, 2: 300, 3: 500, 4: 800}},
    "H": {"name": "竊盜險", "options": {1: 2500, 2: 0}},
    "I": {"name": "刑事訴訟", "options": {1: 0, 2: 400, 3: 600, 4: 1000}},
    "J": {"name": "慰問金", "options": {1: 0, 2: 0, 3: 200, 4: 400}},
    "K": {"name": "失能責任增額", "options": {1: 0, 2: 0, 3: 1500, 4: 2800}},
}

# 任意險最高保費加總（各險種最高選項加總，用於 budget_profile 雷達維度）
MAX_VOLUNTARY_PREMIUM = sum(
    max(opts.values()) for opts in
    (rate["options"] for rate in INSURANCE_RATES.values())
)  # = 35,161

# 保額說明
COVERAGE_AMOUNTS = {
    "A": {1: "200/400/30萬", 2: "200/400/50萬", 3: "300/600/30萬", 4: "300/600/50萬"},
    "B": {1: "500萬", 2: "1000萬", 3: "1500萬", 4: "2000萬"},
    "C": {1: "100萬", 2: "200萬", 3: "300萬", 4: "500萬"},
    "D": {1: "100萬", 2: "200萬", 3: "300萬", 4: "500萬"},
    "E": {1: "甲式", 2: "乙式", 3: "丙式", 4: "限額丙式", 5: "不保"},
    "F": {1: "不保", 2: "不保", 3: "加保"},
    "G": {1: "不保", 2: "50KM", 3: "100KM", 4: "不限里程"},
    "H": {1: "加保", 2: "不保"},
    "I": {1: "不保", 2: "5萬", 3: "10萬", 4: "20萬"},
    "J": {1: "不保", 2: "不保", 3: "5000", 4: "10000"},
    "K": {1: "不保", 2: "不保", 3: "500萬", 4: "1000萬"},
}

# 各險種序號上限（PRD 第 9.4 節）
MAX_INDEX = {
    "A": 4, "B": 4, "C": 4, "D": 4, "E": 5,
    "F": 3, "G": 4, "H": 2, "I": 4, "J": 4, "K": 4,
}

# 強制險費率表（PRD 第 7.1 節，依排氣量）
COMPULSORY_RATES = [
    (1200, 1866),
    (1800, 1866),
    (2400, 1866),
    (3000, 1866),
    (None, 1866),
]

# 套餐名稱對應
PACKAGE_NAMES = {
    "deluxe": "豪華套餐",
    "advanced": "進階套餐",
    "basic": "基本套餐",
}

# 減分優先序號（PRD 第 10 章）
REDUCE_PRIORITY = ["J", "G", "I", "K", "F", "H", "E", "D", "C", "B", "A"]

# 問卷選項 → Persona Tag 對應
PERSONA_TAG_MAP = {
    "high_passenger_medical": "重視家人安全",
    "high_driver_disability": "家庭經濟支柱",
    "repair_perfectionist": "愛車完美主義",
    "theft_protection": "防盜意識高",
    "high_excess_liability": "超跑恐懼",
    "high_bodily_injury": "重視他人保障",
    "roadside_assistance_100km": "長途駕駛",
    "legal_expense": "重視法律保障",
    "safety_first": "安全感至上",
    "budget_saver": "精打細算",
}
